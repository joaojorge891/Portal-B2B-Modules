<po-page-default p-title="Dashboard OEMP">
    <div class="po-row">
        <po-widget
            class ="po-sm-12 po-md-3 po-lg-3 po-xl-4"
            [p-primary]="false"
            (p-click)="openNew()">
            
            <div class="newLabel po-text-center po-font-subtitle"><span class="po-icon po-icon-plus-circle"></span>Novas</div>
            <div class="newCounter po-font-subtitle po-text-center">{{newCounter}}</div>
            <div class="newUpdate po-font-text-small po-text-center">Atualizado em: {{lastUpdate}}</div>
           
           
        </po-widget>
    
        <po-widget
            class="po-sm-12 po-md-3 po-lg-3 po-xl-4"
            [p-primary]="false"
            (p-click)="openExec()">
            <div class="executionLabel po-text-center po-font-subtitle"><span class="po-icon po-icon-change"></span>Em Execução</div>
            <div class="executionCounter po-font-subtitle po-text-center"> {{executionCounter}}</div>
            <div class="executionUpdate po-font-text-small po-text-center">Atualizado em: {{lastUpdate}}</div>
            
    
        </po-widget>
        <po-widget
        class ="po-sm-12 po-md-3 po-lg-3 po-xl-4"
        [p-primary]="false">
        <div class="totalLabel po-text-center po-font-subtitle"><span class="po-icon po-icon-basket"></span>Total</div>
        <div class="totalCounter po-font-subtitle po-text-center"> {{totalCounter}}</div>
        <div class="totalUpdate po-font-text-small po-text-center">Atualizado em: {{lastUpdate}}</div>
        </po-widget>

        <po-widget
        class ="po-sm-12 po-md-3 po-lg-3 po-xl-4"
        [p-primary]="false"
        (p-click)="openCompleted()">
        <div class="completedLabel po-text-center po-font-subtitle"><span class="po-icon po-icon-ok"></span>Concluídas</div>
        <div class="completedCounter po-font-subtitle po-text-center"> {{completedCounter}}</div>
        <div class="completedUpdate po-font-text-small po-text-center">Atualizado em: {{lastUpdateCompleted}}</div>
        </po-widget>
        </div>
        <div class="po-row">
        
                <po-page-dynamic-search class="dynamic"
                        (p-quick-search)="onQuickSearch($event)"
                        (p-change-disclaimers)="onChangeDisclaimers($event)"
                        [p-filters]="filters"
                        p-title="Todas as Solicitações" 
                        [p-quick-search-width]="400"
                        [p-literals]="customLiterals"
                        (p-advanced-search)="onAdvancedSearch($event)"
                        >
                        
                        <div class="excelButton">
                                <po-button p-icon="fas fa-file-excel" p-label="Exportar" (p-click)="exportToXlsx()" ></po-button>
                        </div>
                                
                        
                        <po-table
                        [p-height]="400"
                        [p-actions]="actions"
                        [p-items]="items" 
                        [p-columns]="columns" 
                        [p-striped]="true"
                        [p-sort]="true"
                        [p-auto-collapse]="true"
                        [p-hide-detail]="true"
                        p-container="shadow"
                        [p-loading]="loading"
                        [p-infinite-scroll]="true"
                        [p-infinite-scroll-distance]="90"
                        (p-show-more)="onShowMore()"
                        [p-hide-text-overflow]="true"
                        [p-show-more-disabled]="showMoreDisabled" 
                        [p-loading-show-more]="isLoading">
                </po-table>
                </po-page-dynamic-search>
       

     
       
    </div>
</po-page-default>
    
    
            <po-modal
              
                    p-title="Tratamento de Solicitações Gerais"
                    [p-primary-action]="confirm"
                    [p-secondary-action]="close"
                    p-size="auto">
                    <div class="po-row">
                            <po-input 
                                    name="circuito"
                                    p-label="Circuito" 
                                    p-clean="true"
                                    [p-readonly]="isReadOnly"
                                    [(ngModel)]="editItems.circuito"
                                    class="po-sm-12 po-md-6 po-lg-4 po-xlg-4">
                            </po-input>
    
                            <po-select #status
                                    name="status"
                                    p-label="Status"
                                    [p-readonly]="isReadOnly"
                                    [p-options]="statusOptions"
                                    [(ngModel)]="editItems.status"
                                    class="po-sm-12 po-md-6 po-lg-4 po-xlg-4">
                            </po-select>
    
                            <po-input
                                    name="obs" 
                                    p-label="Observações"
                                    [p-readonly]="isReadOnly"
                                    p-clean="true"
                                    [p-minlength]="1"
                                    [(ngModel)]="editItems.obsStatus"
                                    class="po-sm-12 po-md-6 po-lg-4 po-xlg-4">
                            </po-input>
                    </div>
    
                    <div class="po-row">
    
                            <po-datepicker #date
                                    name="contractDate" 
                                    p-label="Data Contratação"
                                    [p-readonly]="isReadOnly"
                                    [(ngModel)]="editItems.contractDate"
                                    (p-change)="delivPredCalc()"
                                    class="po-sm-12 po-md-6 po-lg-4 po-xlg-4">
                            </po-datepicker>
    
                            <po-select
                                    name="oempDeadLine"
                                    p-label="Prazo Operadora"
                                    [p-readonly]="isReadOnly"
                                    [p-options]="oempDeadLineOptions"
                                    (p-change)="delivPredCalc()"
                                    [(ngModel)]="editItems.oempDeadLine"
                                    class="po-sm-12 po-md-6 po-lg-4 po-xlg-4">
                            </po-select>
            
                            <po-datepicker
                                    name="deliveryPredicition"
                                    p-label="Previsão de Entrega"
                                    [p-readonly]="isReadOnly"
                                    [(ngModel)]="editItems.deliveryPrediction"
                                    class="po-sm-12 po-md-6 po-lg-4 po-xlg-4">
                            </po-datepicker>
            
            
                    </div>
    
                    <div class="po-row">
            
                            <po-datepicker 
                                    name="installationDate"
                                    p-label="Data de Instalação"
                                    [p-readonly]="isReadOnly"
                                    [(ngModel)]="editItems.installationDate"
                                    class="po-sm-12 po-md-6 po-lg-4 po-xlg-4">
                            </po-datepicker>
            
                            <po-input 
                                    name="txInst"
                                    p-label="Taxa de Instalação" 
                                    [p-readonly]="isReadOnly"
                                    p-clean="true"
                                    [(ngModel)]="editItems.installationFee"
                                    class="po-sm-12 po-md-6 po-lg-4 po-xlg-4">
                            </po-input>
    
                            <po-input 
                                    name="mensalidade"
                                    p-label="Taxa Mensal" 
                                    [p-readonly]="isReadOnly"
                                    p-clean="true"
                                    [(ngModel)]="editItems.monthlyPayment"
                                    class="po-sm-12 po-md-6 po-lg-4 po-xlg-4">
                            </po-input>
    
                    </div>
    
                    <div class="po-row">
            
                            <po-select 
                                    name="contractTime"
                                    p-label="Tempo de Contrato"
                                    [p-readonly]="isReadOnly"
                                    [p-options]="contractTimeOptions"
                                    [(ngModel)]="editItems.contractTime" 
                                    class="po-sm-12 po-md-6 po-lg-4 po-xlg-4">
                            </po-select>
    
                            <po-input 
                                    name="feasibilityCode"
                                    p-label="Código Viabilidade" 
                                    [p-readonly]="isReadOnly"
                                    p-clean="true"
                                    [(ngModel)]="editItems.feasibilityCode"
                                    class="po-sm-12 po-md-6 po-lg-4 po-xlg-4">
                            </po-input>
    
                            <po-select
                                    name="oempCompany"
                                    p-label="Operadora"
                                    [p-readonly]="isReadOnly"
                                    [p-options]="oempcompanyOptions"
                                    [(ngModel)]="editItems.oempCompany"
                                    class="po-sm-12 po-md-6 po-lg-4 po-xlg-4">
    
                            </po-select>
    
                    </div>
    
                    <div class="po-row">
                            <po-input 
                                    name="oempDesignation"
                                    p-label="Designação Operadora" 
                                    [p-readonly]="isReadOnly"
                                    p-clean="true"
                                    [(ngModel)]="editItems.oempDesignation"
                                    class="po-sm-12 po-md-6 po-lg-4 po-xlg-4">
                            </po-input>
                            <po-select 
                                    name="responsavel"
                                    p-label="Responsável"
                                    [p-readonly]="isReadOnly"
                                    [p-options]="accountableOptions"
                                    [(ngModel)]="editItems.accountable"
                                    class="po-sm-12 po-md-6 po-lg-4 po-xlg-4">
                            </po-select>
    
    
                    </div>
            
            </po-modal>
    
   
    
    
    
